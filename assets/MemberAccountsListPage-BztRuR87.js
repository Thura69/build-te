import{N as g,a5 as S,a8 as h,d as m,Q as C,a9 as E,j as u,S as T,c as p}from"./index-VQSAZRLI.js";import{u as w,o as d,T as x,a as P,b as j,m as y}from"./reactTableColumn-BWaRrK_x.js";import{u as A}from"./usePaginationPageSize-rkIKmrfG.js";import{u as D,a as I}from"./memberSlice-DyXyzB7a.js";import{u as L}from"./useSuccessMessage-CrTeqooW.js";import"./TextField-D3R9oRAX.js";import"./forms-iRkAx9I5.js";import"./SearchFilter-DZD3gF7O.js";import"./useCurrentPages-Itpqw3L7.js";import"./useConfirmationGuard-BdDljXp2.js";function _({rowSelection:i,setRowSelection:c,handleSearchParamChange:e}){const a=g(),r=S(h),[t]=D(),s=L();m.useEffect(()=>{const o=Object.keys(i);if(!r)return;(async()=>{e({page:1});try{await Promise.all(o.map(async n=>await t(n).unwrap())),c({}),s(C.ACCOUNT_MEMBER_DELETE.successMsg)}catch(n){console.log(n)}finally{a(E(!1))}})()},[i,c,r,t,a,s,e])}function v(){const{queryString:i,currentSearchParams:c,handleSearchParamChange:e}=w({inputs:d}),[a,r]=m.useState({}),{pageSize:t}=A(),{data:s,isLoading:o,isSuccess:l,isError:n,error:f}=I({queryString:i,pageSize:t},{skip:!t}),{results:b,rowCount:M}=m.useMemo(()=>o||!l?{results:[],rowCount:0}:{results:s.results,rowCount:s.count},[o,l,s]);return _({rowSelection:a,setRowSelection:r,handleSearchParamChange:e}),u.jsxs(T,{direction:"column",spacing:2,children:[u.jsx(x,{title:p.member_accounts.page_title,newButtonPath:p.member_invite.path,onImport:()=>{},onExport:()=>{}}),u.jsx(P,{filterInputs:d,handleSearchParamChange:e,currentSearchParams:c}),u.jsx(j,{data:b,isLoading:o,isError:n,error:f,tableColumn:y,detailPath:"",rowCount:M,pageSize:t,onPageChange:e,enableRowSelection:!0,rowSelection:a,setRowSelection:r})]})}export{v as default};
