import{u as f,t as h,v as g,d as j,j as s,C as w,H as C,S as P,e as S}from"./index-VQSAZRLI.js";import{u as v,I as b}from"./InputControllers-DDt3EF8g.js";import{g as y}from"./getFormValues-CGQBIzk4.js";import{p as i}from"./forms-iRkAx9I5.js";import{S as F}from"./styledAccountsComponents-CnjzePuJ.js";import{n as N,a as k}from"./inputsJoiSchema-DR80cPXO.js";import{C as A,a as E}from"./CardContent-DTrM2CnM.js";import{F as I}from"./TextField-D3R9oRAX.js";import"./useThemeProps-DmHRh9Bz.js";import"./index-BYV2JyI0.js";function G(){const r=f(),[n]=h(),t=n.get("uid"),o=n.get("token"),[m,{isLoading:l}]=g(),{handleSubmit:c,control:d,formState:{isValid:u}}=v({defaultValues:y(i),resolver:N(k),mode:"onChange"}),p=async e=>{try{(await m({...e,uid:t,token:o}).unwrap()).message&&r("/accounts/login",{replace:!0})}catch(a){console.log(a)}};return j.useEffect(()=>{(!t||!o)&&r("/")},[t,o,r]),s.jsx(A,{elevation:26,sx:{maxWidth:"520px",width:"100%"},children:s.jsx(E,{size:"large",children:s.jsxs(w,{gap:3,children:[s.jsx(C,{textAlign:"center",children:"パスワードの再設定"}),s.jsxs("form",{onSubmit:c(p),children:[s.jsx(P,{spacing:2,children:i.map(e=>{const{label:a,...x}=e;return s.jsxs(I,{fullWidth:!0,children:[s.jsx(F,{children:a}),s.jsx(b,{...x,variant:"outlined",control:d},e.name)]},e.name)})}),s.jsx(S,{disabled:!u,loading:l,sx:{display:"flex",mt:3,mx:"auto"},children:"パスワードを変更する"})]})]})})})}export{G as default};
