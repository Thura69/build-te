import{u as R,j as e,H as g,a as j,S as d,e as S,h as u,i as q,d as l}from"./index-VQSAZRLI.js";import{S as P}from"./styledAccountsComponents-CnjzePuJ.js";import{u as w,I as y}from"./InputControllers-DDt3EF8g.js";import{F as c}from"./forms-iRkAx9I5.js";import{n as C,r as E}from"./inputsJoiSchema-DR80cPXO.js";import{u as b}from"./useRequestErrorInputResponse-IA9b4GC1.js";import{F as A}from"./TextField-D3R9oRAX.js";import{A as F}from"./AccountResponseCard-BUBYPBxy.js";import{C as I,a as v}from"./CardContent-DTrM2CnM.js";import"./useThemeProps-DmHRh9Bz.js";import"./index-BYV2JyI0.js";const{label:D,...L}=c.email;function m({requestResetPassword:s,isLoading:t}){const r=R(),a=b(),{handleSubmit:o,control:p,formState:{isValid:f},setError:x}=w({defaultValues:{email:""},resolver:C(E)}),h=async n=>{try{await s(n).unwrap()&&r(`?email=${n.email}`,{replace:!0})}catch(i){a(i,x)}};return e.jsxs(e.Fragment,{children:[e.jsx(g,{textAlign:"center",children:"パスワードの再設定"}),e.jsx(j,{textAlign:"center",component:"span",fontSize:"fontSize",children:"パスワード再設定用のメールアドレスを入力してください。"}),e.jsx("form",{onSubmit:o(h),children:e.jsxs(d,{spacing:3,children:[e.jsxs(A,{fullWidth:!0,children:[e.jsx(P,{children:c.email.label}),e.jsx(y,{...L,variant:"outlined",control:p,required:!0})]}),e.jsx(S,{disabled:!f,loading:t,sx:{fontWeight:"fontWeightBold"},children:"メール送信"})]})})]})}m.propTypes={requestResetPassword:u.func.isRequired,isLoading:u.bool.isRequired};const W={header:"パスワードの再設定",texts:["下記のメールアドレス宛にパスワード変更用の URLを送信しました。","メールに記載されているURLをクリックしてパスワードを変更してください"],guide:{title:"メールが届かない場合",steps:["・迷惑メールフォルダをご確認ください"]},repeatButtonText:"メールを再送する"};function G(){const[s,{isLoading:t,isSuccess:r}]=q(),[a,o]=l.useState(!1);return l.useEffect(()=>{r&&o(!0)},[r]),e.jsx(I,{elevation:26,sx:{maxWidth:"464px",width:"100%","& p":{maxWidth:300}},children:e.jsx(v,{size:"large",children:e.jsx(d,{gap:3,children:a?e.jsx(F,{form:[{name:"email"}],responses:W,isLoading:t,repeatAction:s}):e.jsx(m,{requestResetPassword:s,isLoading:t})})})})}export{G as default};
