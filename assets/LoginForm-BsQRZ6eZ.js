import{d as x,a5 as f,a6 as j,N as b,j as e,a7 as L,u as y,C as t,a as C,V as I,e as k,c as R,h as a}from"./index-VQSAZRLI.js";import{S as q}from"./styledAccountsComponents-CnjzePuJ.js";import{F as v,u as F,I as S}from"./InputControllers-DDt3EF8g.js";import{g as M}from"./getFormValues-CGQBIzk4.js";import{B}from"./BpCheckbox-DAGCBt5E.js";import{n as E}from"./inputsJoiSchema-DR80cPXO.js";import{u as K}from"./useRequestErrorInputResponse-IA9b4GC1.js";import{F as P}from"./TextField-D3R9oRAX.js";const w=x.memo(function(){const s=f(j),i=b(),c=p=>i(L({value:p.target.checked}));return e.jsx(v,{sx:{mx:"auto"},componentsProps:{typography:{fontSize:14}},label:"ログインしたままにする",control:e.jsx(B,{inputProps:{"aria-label":"ログインしたままにする"},value:s,checked:s,onChange:c})})}),W=w;function N({form:n,formSchema:s,query:i,isLoading:c}){const p=y(),u=K(),{handleSubmit:m,control:d,setError:h}=F({defaultValues:M(n),resolver:E(s)}),g=async o=>{try{(await i(o).unwrap()).access&&p(`/${R.dashboardRoot}`)}catch(r){const l={data:{email:"メールアドレスの形式が間違っています",password:"パスワードが正しくありません"},status:r.status};u(l,h)}};return e.jsx("form",{onSubmit:m(g),children:e.jsxs(t,{gap:3,children:[e.jsxs(t,{gap:1,children:[e.jsx(t,{gap:2,children:n.map(o=>{const{label:r,...l}=o;return e.jsxs(P,{fullWidth:!0,children:[e.jsx(q,{sx:{fontWeight:500},children:r}),e.jsx(S,{...l,variant:"outlined",control:d},o.name)]},o.name)})}),e.jsx(C,{component:I,variant:"caption",to:"/accounts/password/reset",textAlign:"right",sx:{textDecoration:"none",cursor:"pointer"},className:"link",children:"パスワードを忘れたらこちら"})]}),e.jsxs(t,{gap:1,children:[e.jsx(k,{loading:c,sx:{fontWeight:"fontWeightBold"},children:"ログイン"}),e.jsx(W,{})]})]})})}N.propTypes={form:a.array.isRequired,formSchema:a.object.isRequired,query:a.func.isRequired,isLoading:a.bool.isRequired};export{N as L};
